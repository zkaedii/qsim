{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Example App Config",
  "description": "Configuration schema for an example application",
  "version": "1.0.0",
  "type": "object",
  "required": ["app", "database"],
  "properties": {
    "app": {
      "type": "object",
      "description": "Application settings",
      "required": ["name", "port"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Application name",
          "default": "my-app"
        },
        "port": {
          "type": "integer",
          "description": "HTTP port",
          "minimum": 1,
          "maximum": 65535,
          "default": 8080
        },
        "host": {
          "type": "string",
          "description": "Bind address",
          "default": "0.0.0.0"
        },
        "debug": {
          "type": "boolean",
          "description": "Enable debug mode",
          "default": false
        },
        "log_level": {
          "type": "string",
          "description": "Logging level",
          "enum": ["DEBUG", "INFO", "WARNING", "ERROR"],
          "default": "INFO"
        }
      }
    },
    "database": {
      "type": "object",
      "description": "Database connection settings",
      "required": ["host"],
      "properties": {
        "host": {
          "type": "string",
          "description": "Database hostname",
          "default": "localhost"
        },
        "port": {
          "type": "integer",
          "description": "Database port",
          "default": 5432
        },
        "name": {
          "type": "string",
          "description": "Database name",
          "default": "app_db"
        },
        "pool_size": {
          "type": "integer",
          "description": "Connection pool size",
          "minimum": 1,
          "maximum": 100,
          "default": 10
        },
        "ssl": {
          "type": "boolean",
          "description": "Enable SSL connection",
          "default": false
        }
      }
    },
    "cache": {
      "type": "object",
      "description": "Cache settings (optional)",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "backend": {
          "type": "string",
          "enum": ["memory", "redis", "memcached"],
          "default": "memory"
        },
        "ttl_seconds": {
          "type": "integer",
          "minimum": 0,
          "default": 3600
        }
      }
    },
    "features": {
      "type": "object",
      "description": "Feature flags",
      "additionalProperties": {
        "type": "boolean"
      },
      "default": {}
    }
  }
}
